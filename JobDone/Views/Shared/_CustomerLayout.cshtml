@{
    string username = Context.Session.GetString("Username");
    byte[] ProfilePictureByte = Context.Session.Get("ProfilePic") as byte[];
    string WalletAmount = Context.Session.GetString("WalletAmount");
    string ProfilePicture = Convert.ToBase64String(ProfilePictureByte);
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - JobDone</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="~/css/site.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/JobDone.styles.css" asp-append-version="true" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-...your-integrity-hash-here..." crossorigin="anonymous" />
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css" integrity="sha512-...your-integrity-hash-here..." crossorigin="anonymous" />
    <environment include="Development">
        <script src="~/lib/jquery/dist/jquery.js"></script>
        <script src="~/lib/jquery-validation/dist/jquery.validate.js"></script>
        <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>

    </environment>
    <link href="~/assets/img/favicon.png" rel="icon">
    <link href="~/assets/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <!-- Vendor CSS Files -->
    <link href="~/assets/vendor/aos/aos.css" rel="stylesheet">
    <link href="~/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="~/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
    <link href="~/assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
    <link href="~/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
    <link href="~/assets/vendor/remixicon/remixicon.css" rel="stylesheet">
    <link href="~/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

    <!-- Template Main CSS File -->
    <link href="~/assets/css/style.css" rel="stylesheet">
</head>
<body>
    <!-- ======= Header ======= -->
    <header id="header" class="fixed-top ">
        <div class="container-fluid d-flex align-items-center justify-content-lg-between">

            <h1 class="logo me-auto me-lg-0"><img src="~/logogray.png" style="height:100px;" /></h1>
            <!-- Uncomment below if you prefer to use an image logo -->
            <!-- <a href="index.html" class="logo me-auto me-lg-0"><img src="assets/img/logo.png" alt="" class="img-fluid"></a>-->

            <nav id="navbar" class="navbar order-last order-lg-0">
                <ul>
                    <li><a class="nav-link scrollto active"  asp-controller="Customer" asp-action="Home"><h5>Home</h5></a></li>
                    <li><a class="nav-link scrollto" style="color:gray;" asp-controller="CustomerOrder" asp-action="OrderList"><h5>Orders</h5></a></li>
                    <li><a class="nav-link scrollto" style="color:gray;" asp-controller="CustomerRequestWork" asp-action="RequestWork"><h5>Post Job</h5></a></li>
                    <li><a class="nav-link scrollto" style="color:gray;" asp-controller="CustomerRequestWork" asp-action="RequestedList"><h5>Requests</h5></a></li>

                    <li>
                        <a class="nav-link scrollto" style="color:gray;" asp-controller="CustomerSearch" asp-action="Search">
                            <h5>
                                <i class="fas fa-search"></i> Search
                            </h5>
                        </a>
                    </li>
                    <li>
                        <a class="nav-link scrollto" style="color:gray;" asp-controller="CustomerSearch" asp-action="Messages">
                            <h5>
                                <i class="fas fa-envelope"></i> Messages
                            </h5>
                        </a>
                    </li>
                </ul>
                <i class="bi bi-list mobile-nav-toggle"></i>
            </nav><!-- .navbar -->
            <pre>    </pre>
            <div>
                <img src="~/Customer/Picture/pngwing.com.png" alt="Alternate Text" style=" color:gray; width:30px; height:27px;" onclick="toggleWalletAmount()" />
                <span id="walletAmount" style="color:#ffbb38; margin-left:10px;">
                @(decimal.Parse(WalletAmount).ToString("0.00") + " $")

            </span>
            </div>
            <script>
                var walletAmountElement = document.getElementById("walletAmount");

                function toggleWalletAmount() {
                    var stars = '*'.repeat(document.getElementById("walletAmount").innerText.length);

                    if (document.getElementById("walletAmount").innerHTML === stars) {
                        document.getElementById("walletAmount").innerText = "@(decimal.Parse(Context.Session.GetString("WalletAmount")).ToString("0.00")) $"
                    }
                    else {
                        document.getElementById("walletAmount").innerHTML = stars;
                    }
                }
            </script>
            <pre>               </pre>
            <a  asp-area="" asp-controller="CustomerProfile" asp-action="Profile">
                <h5 style="color:gray;">@username</h5>
            </a>
            <a  asp-controller="CustomerProfile" asp-action="Profile">
                <img class="rounded-circle" src="data:image/jpeg;base64,@ProfilePicture" alt="Profile Picture" style="width:50px; height:50px;" />
            </a>
            
            <form method="get" asp-action="Logout" asp-controller="Customer" style="display:contents">
                <button class="btn btn-danger btn-circle btn-fw" type="submit" style="width: 40px; height: 40px; right:0;">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </form>

        </div>
    </header><!-- End Header -->
 @*    <header>
        <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
            <div class="container-fluid">
                <a class="navbar-brand" style="margin-right:0" asp-controller="CustomerProfile" asp-action="Profile">
                    <img class="rounded-circle" src="data:image/jpeg;base64,@ProfilePicture" alt="Profile Picture" style="width:50px; height:50px;" />
                    </a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse"  id="navbarCollapse">
                    <ul class="navbar-nav me-auto mb-2 mb-md-0">
                        <li class="nav-item">
                            <a class="nav-link text-light pl-0" asp-area="" asp-controller="CustomerProfile" asp-action="Profile">
                            <h5 style="color:gray; margin:0;padding-left:0">@username</h5></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-light" asp-area="" asp-controller="Customer" asp-action="Home"><h5>Home</h5></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-light" asp-area="" asp-controller="CustomerOrder" asp-action="OrderList"><h5>Orders</h5></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-light" asp-area="" 
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-light" asp-area="" asp-controller="CustomerRequestWork" asp-action="RequestedList"><h5>Requests</h5></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-light" asp-area="" asp-controller="CustomerSearch" asp-action="Search">
                                <h5>
                                    <i class="fas fa-search"></i> Search
                                </h5>
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link text-light" asp-area="" asp-controller="CustomerSearch" asp-action="Messages">
                                <h5>
                                    <i class="fas fa-envelope"></i> Messages
                                </h5>
                            </a>
                        </li>
                    </ul>

                </div>
                <img src="~/Customer/Picture/pngwing.com.png" alt="Alternate Text" style="width:30px; height:27px;" onclick="toggleWalletAmount()" />
                <span id="walletAmount" style="color:white; margin-left:10px;">
                    @(decimal.Parse(WalletAmount).ToString("0.00") + " $")
                    
                </span>

                <script>
                    var walletAmountElement = document.getElementById("walletAmount");

                    function toggleWalletAmount() {
                        var stars = '*'.repeat(document.getElementById("walletAmount").innerText.length);

                        if(document.getElementById("walletAmount").innerHTML === stars) {
                            document.getElementById("walletAmount").innerText = "@(decimal.Parse(Context.Session.GetString("WalletAmount")).ToString("0.00")) $"
                        }
                        else{
                            document.getElementById("walletAmount").innerHTML = stars;
                        }
                    }
                </script>
                <form method="get" asp-action="Logout" asp-controller="Customer" style="display:contents">
                    <button class="btn btn-danger btn-circle btn-fw" type="submit" style="width: 40px; height: 40px; margin-left:60px">
                        <i class="fas fa-sign-out-alt"></i>
                    </button>
                </form>
                <h5 style="color:white;margin-left:70px">Logo</h5>


            </div>
        </nav>
    </header> *@


    <div class="container-fluid" style="margin-top:29px;">
        <main role="main" class="pb-3">
            <partial name="_Notification" />
            @RenderBody()
        </main>
    </div>
@*     lib for cliend-side validation
 *@    
    <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>

    <script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
    <script src="~/lib/jquery-validation/dist/jquery.validate.js"></script>

    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>
    <script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.js"></script>

    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    @await RenderSectionAsync("Scripts", required: false)



    <!-- FOOTER -->
    <footer class="container-fluid">
        <p class="float-end"><a href="#">Back to top</a></p>
        <p>Copyright to JobDone <a href="~/PrivacyPolicy.html">Privacy</a> &middot; <a href="#">Terms</a></p>
    </footer>



    <!-- Vendor JS Files -->
    <script src="~/assets/vendor/purecounter/purecounter_vanilla.js"></script>
    <script src="~/assets/vendor/aos/aos.js"></script>
    <script src="~/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/assets/vendor/glightbox/js/glightbox.min.js"></script>
    <script src="~/assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
    <script src="~/assets/vendor/swiper/swiper-bundle.min.js"></script>
    <script src="~/assets/vendor/php-email-form/validate.js"></script>
    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <!-- Template Main JS File -->
    <script src="~/assets/js/main.js"></script>
</body>
</html>
